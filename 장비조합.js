_ext=['X','H+','Y'];
function _exc(e,t,n){bpt="B"===e?"타자":"투수",jQuery.post("https://ya9.naver.com/gmc/exchangegear.nhn",`bpcode=${e}&gearSeqs=${t.seq}&gearSeqs=${n.seq}`).then(function(e){console.info(`${bpt} "${t.name}" + "${n.name}" => "${e.name}" ${e.item?`(보너스: ${e.item.item_nm})`:""}`)})}function _exl(e,t){jQuery.post("https://ya9.naver.com/gmc/getgearlist.nhn",{bpcode:e}).then(n=>{for(items=n.split(/<\/tr>\r\n<tr/).map(e=>({seq:e.match(/seq="([0-9]+)"/)[1],type:e.match(/class="item">[ ]*([^ ]+)/)[1],name:e.match(/class="item">[ ]*([^<]+)/)[1]})).filter(e=>-1=== _ext.indexOf(e.type)),nc=null,ac=null,has_exc=!1,i=0;i<items.length;i++)/^[A-Z]/.test(items[i].type)?ac?(_exc(e,ac,items[i]),ac=null,has_exc=!0):ac=items[i]:nc?(_exc(e,nc,items[i]),nc=null,has_exc=!0):nc=items[i];has_exc?setTimeout(function(){_exl(e,t)},100):t()})}console.info("장비조합 시작"),_exl("B",function(){_exl("P",function(){console.info("장비조합 완료")})});
